<!DOCTYPE html>
<head>
   <title>Peaceful Street Scene</title>
   <meta name="viewport" content="width=device-width; initial-scale=.5; maximum-scale=0.5;
   user-scalable=0;" />
   <meta name="apple-mobile-web-app-capable" content="yes" />
   <style type="text/css">
    #frame {
	  width: 600px;
	  margin-left: auto;
	  margin-right: auto;
	  margin-top: 10px
	}
	  </style>
   <script type="text/javascript">
   </script>
</head>
<body bgcolor="Black">
   <div id="frame">
   <canvas id="canvasId" width="700px" height="500px"></canvas>
   
   <script type="text/javascript">
   
   	var canvas = document.getElementById('canvasId');
   	var context = canvas.getContext('2d');
   	

   	var sectionWidth = 80;
   	var postHeight = 100;
   	var postWidth = 12;
   	var ballRadius = postWidth/2;
    var railHeight = 8;
   	var numberOfSections = 10;
   	
   	var canvasBottom = canvas.height;
   	var sidewalkHeight = 20;
   	var topOfSidewalk = canvasBottom - sidewalkHeight;
   	
   	var initialX = -postWidth/2;
   	var initialY = (canvasBottom - sidewalkHeight) - postHeight;
   	var topRailInitialY = initialY + (postHeight * .2);
   	var bottomRailInitialY = initialY + (postHeight * .6);
   	
   	//draw the background
   	context.beginPath();
   	context.rect(0,0,canvas.width,canvas.height);
   	context.closePath();
   	var gradient = context.createLinearGradient(0,0,0,canvas.height);
   	gradient.addColorStop(0, "LightSkyBlue");
   	gradient.addColorStop(.6, "Blue");
   	gradient.addColorStop(1, "Navy");
   	context.fillStyle = gradient;
   	context.fill();
   	
   	//draw a sidewalk
   	context.beginPath();
   	context.rect(0,topOfSidewalk,canvas.width,sidewalkHeight);
   	var grd = context.createLinearGradient(0,topOfSidewalk, canvas.width,sidewalkHeight);
    grd.addColorStop(0, "#A8A8A8");
    grd.addColorStop(1, "#E0E0E0");
    context.fillStyle = grd;
   	//context.fillStyle = "DarkGray";
   	context.fill();
   	
   	function drawLamp()
   	{
   	   var lampX = 500;
   	   var centerOfPole = lampX + 5;
   	   
   	   //main pole
   	   context.beginPath();
   	   context.rect(lampX,topOfSidewalk-200,10,200);
   	   context.fillStyle = "Black";
   	   context.fill();
   	   
   	   //top square
   	   context.beginPath();
   	   context.rect(centerOfPole-10,topOfSidewalk-226,20,26);
   	   context.fillStyle = "Black";
   	   context.fill();
   	   
   	   //triangle hat
   	   context.beginPath();
   	   context.moveTo(centerOfPole-30,topOfSidewalk-260);
   	   context.lineTo(centerOfPole+30,topOfSidewalk-260);
   	   context.lineTo(centerOfPole,topOfSidewalk-280);
   	   context.closePath();
   	   context.fillStyle = "Black";
   	   context.fill();
   	   
   	   //light shining down
   	   context.beginPath();
   	   context.moveTo(centerOfPole-23,topOfSidewalk-260);
   	   context.lineTo(centerOfPole+23,topOfSidewalk-260);
   	   context.lineTo(centerOfPole+125,canvasBottom);
   	   context.lineTo(centerOfPole-125,canvasBottom);
   	   context.closePath();
   	   context.fillStyle = "Yellow";
   	   context.globalAlpha = .35;
   	   context.shadowColor = "Gray";
   	   context.shadowBlur = 5;
   	   context.shadowOffsetX = 0;
   	   context.shadowOffsetY = 15;
   	   context.fill();
   	   context.globalAlpha = 1;
   	   
   	   //light area the paralellogram
   	   context.beginPath();
   	   context.moveTo(centerOfPole-7,topOfSidewalk-226);
   	   context.lineTo(centerOfPole-23,topOfSidewalk-260);
   	   context.lineTo(centerOfPole+23,topOfSidewalk-260);
   	   context.lineTo(centerOfPole+7,topOfSidewalk-226);
   	   context.closePath();
   	   var gradient = context.createRadialGradient(centerOfPole,topOfSidewalk-250,0,centerOfPole,topOfSidewalk-250,35);
   	   gradient.addColorStop(0,"White");
   	   gradient.addColorStop(1,"Yellow");
   	   context.fillStyle = gradient;
   	   //context.fillStyle = "Yellow";
   	   context.fill();

   }
   
   		//moon
    function drawMoon(x,y,radius)
	{
				
       context.beginPath();
       context.arc(x,y,radius,0,2*Math.PI,false);
       context.fillStyle = "#FFFFFF";
       context.globalAlpha = .65;
   	   context.fill();
   	   context.globalAlpha = 1;		
    }

	   drawMoon(400,80,45);
		
    function drawTree()
    {
	   
	   
	   //draw the leaves
	   context.beginPath();
	   context.moveTo(100,100);
	   context.quadraticCurveTo(120,50,190,70);
	   context.quadraticCurveTo(250,40,250,120);
	   context.quadraticCurveTo(310,240,200,250);
	   context.quadraticCurveTo(155,300,110,260);
	   context.quadraticCurveTo(50,220,80,180);
	   context.quadraticCurveTo(40,100,100,100);
	   var grd = context.createLinearGradient(100, 100, 300, 260);
       grd.addColorStop(0, "#006600");
       grd.addColorStop(1, "#00CC00");
       context.fillStyle = grd;
       context.fill();
	   //context.fillStyle = "Green";
	   
	   //draw the tree trunk
	   context.beginPath();
	   context.rect(150,topOfSidewalk-250,30,250);
	   
	   context.lineTo(90,topOfSidewalk-300);
	   context.lineTo(125,topOfSidewalk-310);
	   context.lineTo(160,200);
	   context.lineTo(170,170);
	   context.lineTo(200,120);
	   context.lineTo(215,145);
	   context.lineTo(180,200);
	   context.lineTo(220,180);
	   context.lineTo(230,200);
	   context.lineTo(180,topOfSidewalk-250);
	   context.fillStyle = "SaddleBrown";
	   context.fill();

    }   
   	
    function drawFencePost (postTopLeft)
    {
   	   context.beginPath();
  	   context.arc(postTopLeft+5,414,28,0,2*Math.PI,false);
  	   context.closePath();
  	   context.strokeStyle = "#FFCC66"
  	   context.lineWidth = 6;
  	   context.stroke();
   	   
   	   context.beginPath();
   	   context.rect(postTopLeft,initialY,postWidth,postHeight);
   	   context.closePath();
   	   context.fillStyle = "White";
   	   context.fill();
   	   
   	   //put a ball on the top!
   	   context.beginPath();
   	   context.arc(postTopLeft + ballRadius,initialY-ballRadius,ballRadius,0,2*Math.PI,false);
   	   context.closePath();
   	   context.fillStyle = "#FF9900";
   	   context.fill();
  	}
  	
  	function drawFenceSection(postTopLeft)
  	{
  	   //draw the fence postTopLeft
  	   drawFencePost(postTopLeft);
  	   
  	   //draw the two rails
  	   context.beginPath();
  	   
  	   context.rect(postTopLeft,topRailInitialY,sectionWidth,railHeight);
  	   context.rect(postTopLeft,bottomRailInitialY,sectionWidth,railHeight);
  	   
  	   context.closePath();
  	   context.fillStyle = "White";
  	   context.fill();
  	   
   }
  	
  	  //draw the tree and then draw the lamp
  	  drawTree();
  	  var index;
  	  for (index = 0;index < numberOfSections; index = index + 1)
  	  {
  	   drawFenceSection(initialX+(index*sectionWidth));
  	  }
  	
  	  drawFencePost(initialX+(index*sectionWidth));
  	
  	  //don't forget to call the function, Jen!
  	  drawLamp();
  	</script>
   </div>
</body>
</html>